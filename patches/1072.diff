diff --git a/CPP/7zip/UI/FileManager/PanelCrc.cpp b/CPP/7zip/UI/FileManager/PanelCrc.cpp
index 227c453..1cfbfe5 100644
--- a/CPP/7zip/UI/FileManager/PanelCrc.cpp
+++ b/CPP/7zip/UI/FileManager/PanelCrc.cpp
@@ -139,18 +139,44 @@ Hunk #1, a/CPP/7zip/UI/FileManager/PanelCrc.cpp DWORD CDirEnumerator::GetNextFile(NFind::CFileInfo &fi, bool &filled, FString &r
 
 class CThreadCrc: public CProgressThreadVirt
 {
+  bool ResultsWereShown;
+  bool WasFinished;
+
   HRESULT ProcessVirt();
+  virtual void ProcessWasFinished_GuiVirt();
 public:
   CDirEnumerator Enumerator;
   CHashBundle Hash;
+  // FString FirstFilePath;
 
   void SetStatus(const UString &s);
   void AddErrorMessage(DWORD systemError, const FChar *name);
+  void ShowFinalResults(HWND hwnd);
+
+  CThreadCrc():
+    ResultsWereShown(false),
+    WasFinished(false)
+    {}
 };
 
+void CThreadCrc::ShowFinalResults(HWND hwnd)
+{
+  if (WasFinished)
+  if (!ResultsWereShown)
+  {
+    ResultsWereShown = true;
+    ShowHashResults(Hash, hwnd);
+  }
+}
+
+void CThreadCrc::ProcessWasFinished_GuiVirt()
+{
+  ShowFinalResults(*this);
+}
+
 void CThreadCrc::AddErrorMessage(DWORD systemError, const FChar *name)
 {
-  ProgressDialog.Sync.AddError_Code_Name(systemError, fs2us(Enumerator.BasePrefix + name));
+  Sync.AddError_Code_Name(systemError, fs2us(Enumerator.BasePrefix + name));
   Hash.NumErrors++;
 }
 
