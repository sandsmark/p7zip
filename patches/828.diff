diff --git a/CPP/7zip/UI/Common/ArchiveCommandLine.cpp b/CPP/7zip/UI/Common/ArchiveCommandLine.cpp
index ad21bc8..0e2a470 100644
--- a/CPP/7zip/UI/Common/ArchiveCommandLine.cpp
+++ b/CPP/7zip/UI/Common/ArchiveCommandLine.cpp
@@ -408,8 +408,19 @@ Hunk #6, a/CPP/7zip/UI/Common/ArchiveCommandLine.cpp static void AddToCensorFromListFile(
   UStringVector names;
   if (!NFind::DoesFileExist(us2fs(fileName)))
     throw CArcCmdLineException(kCannotFindListFile, fileName);
-  if (!ReadNamesFromListFile(us2fs(fileName), names, codePage))
+  DWORD lastError = 0;
+  if (!ReadNamesFromListFile2(us2fs(fileName), names, codePage, lastError))
+  {
+    if (lastError != 0)
+    {
+      UString m;
+      m = "The file operation error for listfile";
+      m.Add_LF();
+      m += NError::MyFormatMessage(lastError);
+      throw CArcCmdLineException(m, fileName);
+    }
     throw CArcCmdLineException(kIncorrectListFile, fileName);
+  }
   if (renamePairs)
   {
     if ((names.Size() & 1) != 0)
