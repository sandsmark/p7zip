diff --git a/C/XzDec.c b/C/XzDec.c
index 67216a5..395e83f 100644
--- a/C/XzDec.c
+++ b/C/XzDec.c
@@ -684,6 +684,7 @@ Hunk #20, a/C/XzDec.c SRes XzUnpacker_Code(CXzUnpacker *p, Byte *dest, SizeT *destLen,
         UInt64 rem = p->block.unpackSize - p->unpackSize;
         if (destLen2 >= rem)
         {
+          destFinish = True;
           finishMode2 = CODER_FINISH_END;
           destLen2 = (SizeT)rem;
         }
